{"ast":null,"code":"var _jsxFileName = \"C:\\\\Github Repositories\\\\deploy-cyclex\\\\src\\\\components\\\\pages\\\\Cart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useParams, useLocation, useNavigate } from \"react-router-dom\";\nimport { Box, Stack, IconButton, TextField, Paper, Button } from \"@mui/material\";\nimport { Remove, Add, Delete } from \"@mui/icons-material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { red } from \"@mui/material/colors\";\nimport { Link } from \"react-router-dom\"; //redux\n\nimport { useDispatch, useSelector } from \"react-redux\"; //files\n\nimport { addToCart, removeFromCart, requestCartItems } from \"../../actions/cartActions\";\nimport Message from \"../Message\";\nimport { Typography } from \"@mui/material\";\nimport BackButton from \"../BackButton\";\nimport TopBanner from \"../TopBanner\";\nimport PrimaryMenu from \"../PrimaryMenu\";\nimport Footer from \"../Footer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: '60px 60px',\n    '@media (max-width: 600px)': {\n      padding: '30px 30px'\n    }\n  },\n  section: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  cartContainer: {\n    padding: \"20px\",\n    margin: \"20px 0\"\n  },\n  itemDetails: {\n    padding: \"0 10px\",\n    [theme.breakpoints.down(\"sm\")]: {}\n  },\n  checkOutContainer: {\n    padding: \"20px\"\n  },\n  column: {\n    [theme.breakpoints.down(\"md\")]: {\n      width: '100%',\n      margin: '10px 0',\n      justifyContent: 'space-evenly',\n      flexWrap: 'wrap',\n      '& img': {\n        width: '100%',\n        height: 'auto'\n      },\n      '& div': {\n        width: '100%',\n        margin: '10px 0px'\n      }\n    },\n    [theme.breakpoints.down('sm')]: {}\n  }\n}));\n\nconst Cart = () => {\n  _s();\n\n  const classes = useStyles();\n  const params = useParams();\n  const history = useNavigate();\n  const location = useLocation();\n  const itemId = params.id; //check this\n\n  const qty = location.search ? Number(location.search.split(\"=\")[1]) : 1; //quantity from the url parameter\n\n  const dispatch = useDispatch(); //get in the store\n\n  const cart = useSelector(state => state.cart);\n  const {\n    cartItems\n  } = cart;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  useEffect(() => {\n    if (!userInfo) {\n      history(\"/signin\");\n    } else if (itemId) {\n      dispatch(addToCart(itemId, qty, userInfo._id));\n    }\n\n    if (userInfo) {\n      dispatch(requestCartItems(userInfo._id));\n    }\n  }, [dispatch, itemId, qty, userInfo, history]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TopBanner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(PrimaryMenu, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      className: \"boxed\",\n      children: cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(BackButton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Message, {\n          children: \"Hurray your cart is clear!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(BackButton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h2\",\n            sx: {\n              padding: \"30px 0 0 30px\"\n            },\n            children: \"Cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          className: classes.root,\n          children: [cartItems.map(item => /*#__PURE__*/_jsxDEV(Paper, {\n            className: classes.cartContainer,\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              className: classes.section,\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: \"flex\",\n                  width: \"50%\"\n                },\n                className: classes.column,\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.image,\n                  alt: item.name,\n                  title: item.name,\n                  width: \"150px\",\n                  height: \"99px\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Box, {\n                  className: classes.itemDetails,\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h4\",\n                    children: item.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    children: [\"by \", /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: item.brand\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 121,\n                      columnNumber: 48\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    color: \"primary.main\",\n                    children: [\"$\", item.price]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                className: classes.column,\n                direction: {\n                  xs: \"column\",\n                  sm: \"row\"\n                },\n                sx: {\n                  width: \"50%\"\n                },\n                justifyContent: \"space-around\",\n                children: [/*#__PURE__*/_jsxDEV(Stack, {\n                  direction: {\n                    xs: \"column\"\n                  },\n                  spacing: {\n                    xs: 2,\n                    sm: 4\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h5\",\n                    children: \"Quantity:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                    direction: {\n                      xs: \"row\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                      color: \"secondary\",\n                      size: \"small\",\n                      onClick: () => dispatch(addToCart(item.item, --item.qty, item.user)),\n                      disabled: item.qty === 1,\n                      children: /*#__PURE__*/_jsxDEV(Remove, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 142,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 136,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                      id: \"\",\n                      label: \"\",\n                      variant: \"outlined\",\n                      value: item.qty,\n                      size: \"small\",\n                      color: \"secondary\",\n                      type: \"number\",\n                      sx: {\n                        width: \"100px\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 144,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                      color: \"secondary\",\n                      size: \"small\",\n                      onClick: () => dispatch(addToCart(item.item, ++item.qty, item.user)),\n                      disabled: item.qty === item.countInStock,\n                      children: /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 160,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 154,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  style: {\n                    color: red[900],\n                    height: \"50px\",\n                    margin: \"auto 0\"\n                  },\n                  startIcon: /*#__PURE__*/_jsxDEV(Delete, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 116\n                  }, this),\n                  onClick: () => dispatch(removeFromCart(item._id)),\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    children: \"REMOVE FROM CART\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 33\n            }, this)\n          }, item._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)), /*#__PURE__*/_jsxDEV(Stack, {\n            direction: {\n              xs: \"column\"\n            },\n            justifyContent: \"flex-end\",\n            alignItems: \"flex-end\",\n            children: /*#__PURE__*/_jsxDEV(Paper, {\n              className: classes.checkOutContainer,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                children: [\"Total: \", \" \", /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"span\",\n                  color: \"primary.main\",\n                  children: [\"$\", cartItems.reduce((initialValue, item) => initialValue + item.price * item.qty, 0).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: [\"Qty: \", \" \", cartItems.reduce((initialValue, item) => initialValue + item.qty, 0), \" items\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/checkout\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  color: \"success\",\n                  sx: {\n                    margin: \"10px 0 0 0\"\n                  },\n                  children: \"CHECKOUT\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Cart, \"i+jva3UdkA7axfogXMIemxbLAog=\", false, function () {\n  return [useStyles, useParams, useNavigate, useLocation, useDispatch, useSelector, useSelector];\n});\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["C:/Github Repositories/deploy-cyclex/src/components/pages/Cart.js"],"names":["React","useEffect","useParams","useLocation","useNavigate","Box","Stack","IconButton","TextField","Paper","Button","Remove","Add","Delete","makeStyles","red","Link","useDispatch","useSelector","addToCart","removeFromCart","requestCartItems","Message","Typography","BackButton","TopBanner","PrimaryMenu","Footer","useStyles","theme","root","padding","section","display","flexWrap","cartContainer","margin","itemDetails","breakpoints","down","checkOutContainer","column","width","justifyContent","height","Cart","classes","params","history","location","itemId","id","qty","search","Number","split","dispatch","cart","state","cartItems","userLogin","userInfo","_id","length","map","item","image","name","brand","price","xs","sm","user","countInStock","color","reduce","initialValue","toFixed"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useParams, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { Box, Stack, IconButton, TextField, Paper, Button } from \"@mui/material\";\r\nimport { Remove, Add, Delete } from \"@mui/icons-material\";\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport { red } from \"@mui/material/colors\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n//redux\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\n//files\r\nimport { addToCart, removeFromCart, requestCartItems } from \"../../actions/cartActions\";\r\nimport Message from \"../Message\";\r\nimport { Typography } from \"@mui/material\";\r\nimport BackButton from \"../BackButton\";\r\nimport TopBanner from \"../TopBanner\";\r\nimport PrimaryMenu from \"../PrimaryMenu\";\r\nimport Footer from \"../Footer\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        padding: '60px 60px',\r\n        '@media (max-width: 600px)': {\r\n            padding: '30px 30px'\r\n        }\r\n    },\r\n    section: {\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\"\r\n    },\r\n    cartContainer: {\r\n        padding: \"20px\",\r\n        margin: \"20px 0\"\r\n    },\r\n    itemDetails: {\r\n        padding: \"0 10px\",\r\n        [theme.breakpoints.down(\"sm\")]: {\r\n        }\r\n    },\r\n    checkOutContainer: {\r\n        padding: \"20px\"\r\n    },\r\n    column: {\r\n        [theme.breakpoints.down(\"md\")]: {\r\n            width: '100%',\r\n            margin: '10px 0',\r\n            justifyContent: 'space-evenly',\r\n            flexWrap: 'wrap',\r\n            '& img': {\r\n                width: '100%',\r\n                height: 'auto'\r\n            },\r\n            '& div': {\r\n                width: '100%',\r\n                margin: '10px 0px'\r\n            }\r\n        },\r\n        [theme.breakpoints.down('sm')]: {\r\n        }\r\n    }\r\n}));\r\n\r\nconst Cart = () => {\r\n    const classes = useStyles();\r\n    const params = useParams();\r\n    const history = useNavigate();\r\n    const location = useLocation(); \r\n    const itemId = params.id; //check this\r\n    const qty = location.search ? Number(location.search.split(\"=\")[1]) : 1; //quantity from the url parameter\r\n    const dispatch = useDispatch();\r\n\r\n    //get in the store\r\n    const cart = useSelector((state) => state.cart); \r\n    const { cartItems } = cart;\r\n\r\n    const userLogin = useSelector((state) => state.userLogin);\r\n    const { userInfo } = userLogin;\r\n\r\n    useEffect(() => {\r\n        if(!userInfo){\r\n            history(\"/signin\");\r\n        } else if (itemId) {\r\n            dispatch(addToCart(itemId, qty, userInfo._id));\r\n        }\r\n        \r\n        if(userInfo){\r\n            dispatch(requestCartItems(userInfo._id));\r\n        }\r\n    }, [dispatch, itemId, qty, userInfo, history]);\r\n\r\n    return (\r\n        <>\r\n        <TopBanner/>\r\n        <PrimaryMenu/>\r\n        <Box className=\"boxed\">\r\n            {cartItems.length === 0 ? (\r\n                <Box>\r\n                < BackButton />\r\n                <Message>Hurray your cart is clear!</Message> \r\n                </Box>\r\n            ): (\r\n            <Box>\r\n                <BackButton/>\r\n                <Box >\r\n                <Typography variant=\"h2\" sx={{ padding: \"30px 0 0 30px\" }}>\r\n                    Cart\r\n                </Typography>\r\n                </Box>\r\n                <Box className={classes.root}>\r\n                    {cartItems.map((item) => (\r\n                        <Paper  key={item._id} className={classes.cartContainer}>\r\n                                <Box className={classes.section}>\r\n                                <Box sx={{ display:\"flex\", width: \"50%\"}} className={classes.column}>\r\n                                    <img src={item.image} alt={item.name} title={item.name} width=\"150px\" height=\"99px\"/>\r\n                                    <Box className={classes.itemDetails}>\r\n                                        <Typography variant=\"h4\">\r\n                                            {item.name}\r\n                                        </Typography>\r\n                                        <Typography>\r\n                                            by <b>{item.brand}</b>\r\n                                        </Typography>\r\n                                        <Typography color=\"primary.main\">\r\n                                            ${item.price}\r\n                                        </Typography>\r\n                                    </Box>\r\n                                </Box>\r\n                                <Stack className={classes.column} direction={{xs:\"column\", sm:\"row\"}} sx={{width: \"50%\"}} justifyContent=\"space-around\">\r\n                                    {/* Quantity Bar */}\r\n                                    <Stack \r\n                                    direction={{xs:\"column\"}}\r\n                                    spacing={{xs: 2, sm: 4}}\r\n                                    >\r\n                                        <Typography variant=\"h5\">Quantity:</Typography>\r\n                                        <Stack direction={{xs:\"row\"}}>\r\n                                            <IconButton \r\n                                            color=\"secondary\"\r\n                                            size=\"small\"\r\n                                            onClick={() => dispatch(addToCart(item.item, --item.qty, item.user))}\r\n                                            disabled={item.qty === 1}\r\n                                            >\r\n                                                <Remove/>\r\n                                            </IconButton>\r\n                                            <TextField \r\n                                            id=\"\" \r\n                                            label=\"\" \r\n                                            variant=\"outlined\" \r\n                                            value={item.qty}\r\n                                            size=\"small\"\r\n                                            color='secondary'\r\n                                            type=\"number\"\r\n                                            sx={{width: \"100px\"}}\r\n                                            />\r\n                                            <IconButton\r\n                                            color=\"secondary\"\r\n                                            size=\"small\"\r\n                                            onClick={() => dispatch(addToCart(item.item, ++item.qty, item.user))}\r\n                                            disabled={item.qty === item.countInStock}\r\n                                            >\r\n                                                <Add/>\r\n                                            </IconButton>\r\n                                        </Stack>\r\n                                    </Stack>\r\n                                    <Button style={{color: red[900], height: \"50px\", margin: \"auto 0\"}} startIcon={<Delete/>} onClick={() => dispatch(removeFromCart(item._id))}>\r\n                                        <Typography>\r\n                                            REMOVE FROM CART\r\n                                        </Typography>\r\n                                    </Button>\r\n                                </Stack>\r\n                            </Box>\r\n                        </Paper>\r\n                ))}\r\n                <Stack direction={{xs:\"column\"}} justifyContent=\"flex-end\" alignItems=\"flex-end\">\r\n                    <Paper className={classes.checkOutContainer}>\r\n                        <Typography>\r\n                            {/* reference: https://www.w3schools.com/jsref/jsref_reduce.asp */}\r\n                            Total: {\" \"}\r\n                            <Typography variant=\"span\" color=\"primary.main\">\r\n                            ${cartItems\r\n                            .reduce((initialValue, item) => initialValue + item.price * item.qty, 0)\r\n                            .toFixed(2)}\r\n                            </Typography>\r\n                        </Typography>\r\n                        <Typography>\r\n                            Qty: {\" \"}\r\n                            {cartItems\r\n                            .reduce((initialValue, item) => initialValue + item.qty, 0\r\n                            )} items\r\n                        </Typography>\r\n                        <Link to=\"/checkout\">\r\n                            <Button variant=\"contained\" color=\"success\" sx={{margin: \"10px 0 0 0\"}}>\r\n                                CHECKOUT\r\n                            </Button>\r\n                        </Link>\r\n                    </Paper>\r\n                </Stack>\r\n                </Box>\r\n            </Box>\r\n            )}\r\n        </Box>\r\n        <Footer/>\r\n        </>\r\n    );\r\n} \r\n\r\nexport default Cart;\r\n\r\n"]},"metadata":{},"sourceType":"module"}