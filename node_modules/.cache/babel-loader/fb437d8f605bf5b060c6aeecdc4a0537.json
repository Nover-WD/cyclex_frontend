{"ast":null,"code":"import _slicedToArray from\"C:/Github Repositories/cyclex/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Typography,Stack,TextField,Button,Box}from\"@mui/material\";import{makeStyles}from\"@mui/styles\";//router-dom\nimport{Link,useNavigate,useLocation}from\"react-router-dom\";//redux\nimport{useSelector,useDispatch}from\"react-redux\";import{register}from\"../../../src/actions/userActions\";//components\nimport Message from\"../Message\";import Form from\"../Form\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{noneTextDecoration:{color:theme.palette.secondary.light,textDecoration:\"none\"}};});export default function RegistrationForm(){var classes=useStyles();var history=useNavigate();var location=useLocation();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];var dispatch=useDispatch();var userRegister=useSelector(function(state){return state.userRegister;});var isLoading=userRegister.isLoading,error=userRegister.error,userInfo=userRegister.userInfo;//redirect to homepage\nvar redirect=location.search?location.search.split(\"=\")[1]:\"/\";var handleSubmit=function handleSubmit(event){event.preventDefault();if(password!==confirmPassword){setMessage(\"Password do not match\");}else{dispatch(register(name,email,password));setMessage(false);}};useEffect(function(){if(userInfo){history(redirect);};},[history,userInfo,redirect]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Form,{isLoading:isLoading,error:error,children:message?/*#__PURE__*/_jsx(Message,{severity:\"error\",form:true,children:message}):null}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/assets/img/CycleX-Logo.png\",width:\"150px\",style:{margin:\"auto\",display:\"block\"},alt:\"CycleX Logo\",title:\"CycleX - Home\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"h3\",textAlign:\"center\",sx:{padding:\"30px 0px\"},children:\"GETTING STARTED\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",noValidate:true,autoComplete:\"off\",onSubmit:function onSubmit(event){return handleSubmit(event);},children:[/*#__PURE__*/_jsxs(Stack,{spacing:2,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"NAME\",id:\"name\",required:true,variant:\"outlined\",onChange:function onChange(event){return setName(event.target.value);}}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"EMAIL\",id:\"email\",required:true,variant:\"outlined\",onChange:function onChange(event){return setEmail(event.target.value);}}),/*#__PURE__*/_jsx(TextField,{label:\"PASSWORD\",required:true,type:\"password\",onChange:function onChange(event){return setPassword(event.target.value);}}),/*#__PURE__*/_jsx(TextField,{label:\"CONFIRM PASSWORD\",required:true,type:\"password\",onChange:function onChange(event){return setConfirmPassword(event.target.value);}})]}),/*#__PURE__*/_jsxs(Stack,{sx:{margin:\"20px 0\"},direction:{xs:\"column\",sm:\"row\"},spacing:{xs:1,sm:2},children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",type:\"submit\",children:\"REGISTER\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",children:/*#__PURE__*/_jsx(Link,{to:redirect?\"/signin?redirect=\".concat(redirect):\"/signin\",className:classes.noneTextDecoration,children:\"SIGN IN\"})})]})]})]});}","map":{"version":3,"sources":["C:/Github Repositories/cyclex/frontend/src/components/forms/RegistrationForm.js"],"names":["React","useEffect","useState","Typography","Stack","TextField","Button","Box","makeStyles","Link","useNavigate","useLocation","useSelector","useDispatch","register","Message","Form","useStyles","theme","noneTextDecoration","color","palette","secondary","light","textDecoration","RegistrationForm","classes","history","location","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","message","setMessage","dispatch","userRegister","state","isLoading","error","userInfo","redirect","search","split","handleSubmit","event","preventDefault","margin","display","padding","target","value","xs","sm"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Typography, Stack, TextField, Button, Box } from \"@mui/material\";\r\nimport { makeStyles } from \"@mui/styles\";\r\n\r\n//router-dom\r\nimport {Link, useNavigate, useLocation} from \"react-router-dom\";\r\n\r\n//redux\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { register } from \"../../../src/actions/userActions\";\r\n\r\n//components\r\nimport Message from \"../Message\";\r\nimport Form from \"../Form\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    noneTextDecoration: {\r\n        color: theme.palette.secondary.light,\r\n        textDecoration: \"none\"\r\n    }\r\n}));\r\n\r\nexport default function RegistrationForm() {\r\n    const classes = useStyles();\r\n    const history = useNavigate();\r\n    const location = useLocation();\r\n\r\n    const [name, setName] = useState(null);\r\n    const [email, setEmail] = useState(null);\r\n    const [password, setPassword] = useState(null);\r\n    const [confirmPassword, setConfirmPassword] = useState(null);\r\n    const [message, setMessage] = useState(null);\r\n\r\n    const dispatch = useDispatch();\r\n    const userRegister = useSelector((state) => state.userRegister);\r\n    let { isLoading, error, userInfo } = userRegister;\r\n\r\n    //redirect to homepage\r\n    const redirect = location.search ? location.search.split(\"=\")[1] : \"/\";\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        \r\n        if(password !== confirmPassword){\r\n            setMessage(\"Password do not match\");\r\n        } else {\r\n            dispatch(register(name, email, password));\r\n            setMessage(false);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(userInfo){\r\n            history(redirect);\r\n        };\r\n    }, [history, userInfo, redirect]);\r\n\r\n\r\n    return (\r\n        <>\r\n        <Form isLoading={isLoading} error={error}>\r\n            {message ? <Message severity=\"error\" form={true}>{ message }</Message> : null }\r\n        </Form>\r\n        <Link to=\"/\">\r\n        <img src=\"/assets/img/CycleX-Logo.png\" width=\"150px\" style={{margin: \"auto\", display:\"block\"}} alt=\"CycleX Logo\" title=\"CycleX - Home\"/>\r\n        </Link>\r\n        <Typography variant=\"h3\" textAlign=\"center\" sx={{padding: \"30px 0px\"}}>\r\n            GETTING STARTED\r\n        </Typography>\r\n        <Box component=\"form\" noValidate autoComplete=\"off\" onSubmit={(event) => handleSubmit(event)}>\r\n            <Stack spacing={2}>\r\n                <TextField fullWidth label=\"NAME\" id=\"name\" required variant=\"outlined\" \r\n                onChange={(event) => setName(event.target.value)}/>\r\n                <TextField fullWidth label=\"EMAIL\" id=\"email\" required variant=\"outlined\" \r\n                onChange={(event) => setEmail(event.target.value)}/>\r\n                <TextField label=\"PASSWORD\" required type=\"password\" \r\n                onChange={(event) => setPassword(event.target.value)}/>\r\n                <TextField label=\"CONFIRM PASSWORD\" required type=\"password\"\r\n                onChange={(event) => setConfirmPassword(event.target.value)}/>\r\n                {/* <Terms setTermsValid={setTermsValid}/> */}\r\n            </Stack>\r\n            <Stack sx={{margin: \"20px 0\"}} direction={{xs: \"column\", sm: \"row\"}} spacing={{xs: 1, sm: 2}}>\r\n                <Button variant=\"contained\" type=\"submit\">\r\n                    REGISTER\r\n                </Button>\r\n                <Button variant=\"contained\" color=\"secondary\" >\r\n                    <Link to={redirect ? `/signin?redirect=${redirect}` : \"/signin\" } className={classes.noneTextDecoration}>\r\n                        SIGN IN\r\n                    </Link>\r\n                </Button>\r\n            </Stack>\r\n        </Box>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}