{"ast":null,"code":"var _jsxFileName = \"C:\\\\Github Repositories\\\\cyclex\\\\frontend\\\\src\\\\components\\\\pages\\\\Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@mui/styles\";\nimport { Avatar, Stack, Paper, Typography, Button, Dialog, DialogContent, TextField, DialogActions } from \"@mui/material\"; //components\n\nimport Form from \"../Form\";\nimport Message from \"../Message\";\nimport TopBanner from \"../TopBanner\";\nimport Footer from \"../Footer\";\nimport PrimaryMenu from \"../PrimaryMenu\"; //redux\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getUserProfile, updateUserProfile, deleteUserProfile, logout } from \"../../actions/userActions\";\nimport { UPDATE_PROFILE_RESET } from \"../../constants/userConstants\"; //react-router-dom\n\nimport { useNavigate } from \"react-router-dom\";\nimport { Box } from \"@mui/system\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  avatar: {\n    backgroundColor: theme.palette.primary.main,\n    width: \"56px\",\n    height: \"56px\"\n  },\n  dialog: {\n    padding: \"50px\"\n  }\n}));\n\nconst Profile = () => {\n  _s();\n\n  const classes = useStyles();\n  const history = useNavigate();\n  const [isUpdateOpen, setIsUpdateOpen] = useState(false);\n  const [isDeleteOpen, setIsDeleteOpen] = useState(false);\n  const [name, setName] = useState(null);\n  const [email, setEmail] = useState(null);\n  const [password, setPassword] = useState(null);\n  const [confirmPassword, setConfirmPassword] = useState(null);\n  const [message, setMessage] = useState(null);\n  const dispatch = useDispatch();\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  const userProfile = useSelector(state => state.userProfile);\n  const {\n    isLoading,\n    error,\n    user\n  } = userProfile;\n  const updateProfile = useSelector(state => state.updateProfile);\n  const {\n    success\n  } = updateProfile;\n\n  const handleUpdateDialog = () => {\n    setIsUpdateOpen(true);\n  };\n\n  const handleUpdateDialogClose = () => {\n    setIsUpdateOpen(false);\n  };\n\n  const handleUpdate = event => {\n    event.preventDefault();\n\n    if (password !== confirmPassword) {\n      setMessage(\"Password do not match\");\n    } else {\n      dispatch(updateUserProfile({\n        id: user.id,\n        name: name,\n        email: email,\n        password: password\n      }));\n    }\n  };\n\n  const handleDeleteDialog = () => {\n    setIsDeleteOpen(true);\n  };\n\n  const handleDeleteDialogClose = () => {\n    setIsDeleteOpen(false);\n  };\n\n  const handleDelete = () => {\n    dispatch(deleteUserProfile());\n    dispatch(logout());\n    history(\"/signin\");\n  };\n\n  useEffect(() => {\n    if (!userInfo) {\n      history(\"/signin\");\n    } else {\n      if (!user.name || !user || success) {\n        dispatch({\n          type: UPDATE_PROFILE_RESET\n        });\n        dispatch(getUserProfile(\"profile\"));\n        setIsUpdateOpen(false);\n      } else {\n        setName(user.name);\n        setEmail(user.email);\n      }\n    }\n  }, [userInfo, history, dispatch, user, success]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TopBanner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PrimaryMenu, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        padding: \"60px\",\n        '@media (max-width: 600px)': {\n          padding: '30px 30px'\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 4,\n        sx: {\n          width: \"480px\",\n          padding: \"40px 30px\",\n          backgroundColor: \"primary.light\",\n          margin: \"auto\",\n          '@media (max-width: 600px)': {\n            width: '100%'\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(Stack, {\n          spacing: 1,\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            className: classes.avatar,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              children: userInfo ? userInfo.name[0] : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            children: userInfo ? userInfo.name : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            children: userInfo ? userInfo.email : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Stack, {\n            direction: {\n              xs: \"column\",\n              sm: \"row\"\n            },\n            spacing: {\n              xs: 1,\n              sm: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              type: \"submit\",\n              onClick: handleUpdateDialog,\n              children: \"EDIT PROFILE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n              open: isUpdateOpen,\n              onClose: handleUpdateDialogClose,\n              children: [/*#__PURE__*/_jsxDEV(Form, {\n                isLoading: isLoading,\n                error: error,\n                children: message ? /*#__PURE__*/_jsxDEV(Message, {\n                  severity: \"error\",\n                  form: true,\n                  children: message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 49\n                }, this) : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h4\",\n                textAlign: \"center\",\n                sx: {\n                  paddingTop: \"20px\"\n                },\n                children: \"UPDATE PROFILE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                component: \"form\",\n                noValidate: true,\n                autoComplete: \"off\",\n                onSubmit: event => handleUpdate(event),\n                children: [/*#__PURE__*/_jsxDEV(DialogContent, {\n                  sx: {\n                    padding: \"20px 40px!important\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Stack, {\n                    spacing: 2,\n                    children: [/*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"NAME\",\n                      type: \"text\",\n                      value: name,\n                      variant: \"outlined\",\n                      onChange: event => setName(event.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"EMAIL\",\n                      type: \"email\",\n                      value: email,\n                      variant: \"outlined\",\n                      onChange: event => setEmail(event.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 147,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"PASSWORD\",\n                      variant: \"outlined\",\n                      type: \"password\",\n                      onChange: event => setPassword(event.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 149,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                      fullWidth: true,\n                      label: \"CONFIRM PASSWORD\",\n                      variant: \"outlined\",\n                      type: \"password\",\n                      onChange: event => setConfirmPassword(event.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 151,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n                  sx: {\n                    paddingBottom: \"30px\",\n                    justifyContent: \"center\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Stack, {\n                    direction: {\n                      xs: \"column\",\n                      sm: \"row\"\n                    },\n                    spacing: {\n                      xs: 2,\n                      sm: 2\n                    },\n                    justifyContent: \"center\",\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"contained\",\n                      color: \"primary\",\n                      type: \"submit\",\n                      children: \"UPDATE\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 157,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      variant: \"contained\",\n                      color: \"secondary\",\n                      onClick: handleUpdateDialogClose,\n                      children: \"CLOSE\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 160,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"error\",\n              onClick: handleDeleteDialog,\n              children: \"DELETE ACCOUNT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n              open: isDeleteOpen,\n              onClose: handleDeleteDialogClose,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h4\",\n                textAlign: \"center\",\n                sx: {\n                  paddingTop: \"20px\"\n                },\n                children: \"DELETE PROFILE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  sx: {\n                    marginBottom: \"20px\"\n                  },\n                  children: \"Are you sure you want to delete your profile/account?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                  direction: {\n                    xs: \"column\",\n                    sm: \"row\"\n                  },\n                  spacing: {\n                    xs: 2,\n                    sm: 2\n                  },\n                  justifyContent: \"center\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    color: \"error\",\n                    onClick: handleDelete,\n                    children: \"Yes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 177,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"contained\",\n                    color: \"primary\",\n                    onClick: handleDeleteDialogClose,\n                    children: \"No\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Profile, \"WYb8xprC0Bss8LlsEvEy4znnERI=\", false, function () {\n  return [useStyles, useNavigate, useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["C:/Github Repositories/cyclex/frontend/src/components/pages/Profile.js"],"names":["React","useEffect","useState","makeStyles","Avatar","Stack","Paper","Typography","Button","Dialog","DialogContent","TextField","DialogActions","Form","Message","TopBanner","Footer","PrimaryMenu","useSelector","useDispatch","getUserProfile","updateUserProfile","deleteUserProfile","logout","UPDATE_PROFILE_RESET","useNavigate","Box","useStyles","theme","avatar","backgroundColor","palette","primary","main","width","height","dialog","padding","Profile","classes","history","isUpdateOpen","setIsUpdateOpen","isDeleteOpen","setIsDeleteOpen","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","message","setMessage","dispatch","userLogin","state","userInfo","userProfile","isLoading","error","user","updateProfile","success","handleUpdateDialog","handleUpdateDialogClose","handleUpdate","event","preventDefault","id","handleDeleteDialog","handleDeleteDialogClose","handleDelete","type","margin","xs","sm","paddingTop","target","value","paddingBottom","justifyContent","marginBottom"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport { Avatar, Stack, Paper, Typography, Button, Dialog, DialogContent, TextField, DialogActions } from \"@mui/material\";\r\n\r\n//components\r\nimport Form from \"../Form\";\r\nimport Message from \"../Message\";\r\nimport TopBanner from \"../TopBanner\";\r\nimport Footer from \"../Footer\";\r\nimport PrimaryMenu from \"../PrimaryMenu\";\r\n\r\n//redux\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getUserProfile, updateUserProfile, deleteUserProfile, logout } from \"../../actions/userActions\";\r\nimport { UPDATE_PROFILE_RESET } from \"../../constants/userConstants\";\r\n\r\n//react-router-dom\r\nimport {  useNavigate } from \"react-router-dom\";\r\nimport { Box } from \"@mui/system\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    avatar: {\r\n        backgroundColor: theme.palette.primary.main,\r\n        width: \"56px\",\r\n        height: \"56px\"\r\n    },\r\n    dialog: {\r\n        padding: \"50px\"\r\n    }\r\n}));\r\n\r\nconst Profile = () => {\r\n    const classes = useStyles();\r\n    const history = useNavigate();\r\n    \r\n    const [isUpdateOpen, setIsUpdateOpen] = useState(false);\r\n    const [isDeleteOpen, setIsDeleteOpen] = useState(false);\r\n    const [name, setName] = useState(null);\r\n    const [email, setEmail] = useState(null);\r\n    const [password, setPassword] = useState(null);\r\n    const [confirmPassword, setConfirmPassword] = useState(null);\r\n    const [message, setMessage] = useState(null);\r\n\r\n\r\n    const dispatch = useDispatch();\r\n    const userLogin = useSelector((state) => state.userLogin);\r\n    const { userInfo } = userLogin;\r\n\r\n    const userProfile = useSelector((state) => state.userProfile);\r\n    const {isLoading, error, user} = userProfile;\r\n\r\n    const updateProfile = useSelector((state) => state.updateProfile);\r\n    const { success } = updateProfile;\r\n\r\n    const handleUpdateDialog = () => {\r\n        setIsUpdateOpen(true);\r\n    };\r\n\r\n    const handleUpdateDialogClose = () => {\r\n        setIsUpdateOpen(false);\r\n    }\r\n\r\n    const handleUpdate = (event) => {\r\n        event.preventDefault();\r\n\r\n        if(password !== confirmPassword){\r\n            setMessage(\"Password do not match\");\r\n        } \r\n        else {\r\n            dispatch(updateUserProfile({id: user.id, name: name, email: email, password: password}));\r\n        }\r\n    };\r\n\r\n    const handleDeleteDialog = () => {\r\n        setIsDeleteOpen(true);\r\n    }\r\n\r\n    const handleDeleteDialogClose = () => {\r\n        setIsDeleteOpen(false);\r\n    }\r\n\r\n    const handleDelete = () => {\r\n        dispatch(deleteUserProfile());\r\n        dispatch(logout());\r\n        history(\"/signin\");\r\n    };\r\n\r\n    useEffect(() => {\r\n        if(!userInfo) {\r\n            history(\"/signin\")\r\n        } else {\r\n            if(!user.name || !user || success){\r\n                dispatch({\r\n                    type: UPDATE_PROFILE_RESET\r\n                });\r\n\r\n                dispatch(getUserProfile(\"profile\"));\r\n                setIsUpdateOpen(false);\r\n            } else {\r\n                setName(user.name);\r\n                setEmail(user.email);\r\n            }\r\n        }\r\n    }, [userInfo, history, dispatch, user, success]);\r\n\r\n    return (\r\n        <>\r\n            <TopBanner/>\r\n            <PrimaryMenu/>\r\n            <Box sx={{padding: \"60px\", '@media (max-width: 600px)' : {padding: '30px 30px'}}}>\r\n                <Paper\r\n                    elevation={4} sx={{width: \"480px\", padding: \"40px 30px\", backgroundColor: \"primary.light\",\r\n                    margin: \"auto\",\r\n                    '@media (max-width: 600px)': {\r\n                        width: '100%'\r\n                    }\r\n                    }}\r\n                >\r\n                    <Stack spacing={1} alignItems=\"center\">\r\n                        <Avatar className={classes.avatar}>\r\n                            <Typography variant=\"h3\">\r\n                                { userInfo ? userInfo.name[0] : null }\r\n                            </Typography>\r\n                        </Avatar>\r\n                        <Typography variant=\"h4\">\r\n                            { userInfo ? userInfo.name : null }\r\n                        </Typography>\r\n                        <Typography variant=\"h5\">\r\n                            { userInfo ? userInfo.email : null }\r\n                        </Typography>\r\n                        <Stack direction={{xs: \"column\", sm: \"row\"}} spacing={{xs: 1, sm: 2}}>\r\n                            <Button variant=\"contained\" type=\"submit\" onClick={handleUpdateDialog}>\r\n                                EDIT PROFILE\r\n                            </Button>\r\n                            <Dialog open={isUpdateOpen} onClose={handleUpdateDialogClose}>\r\n                                <Form isLoading={isLoading} error={error}>\r\n                                    { message ? <Message severity=\"error\" form={true}>{message}</Message> : null}\r\n                                </Form>\r\n                                <Typography variant=\"h4\" textAlign=\"center\" sx={{paddingTop: \"20px\"}}>\r\n                                    UPDATE PROFILE\r\n                                </Typography>\r\n                                <Box component=\"form\" noValidate autoComplete=\"off\" onSubmit={(event) => handleUpdate(event)}>\r\n                                    <DialogContent sx={{padding: \"20px 40px!important\"}}>\r\n                                        <Stack spacing={2}>\r\n                                                <TextField fullWidth label=\"NAME\" type=\"text\" value={name} variant=\"outlined\" onChange={(event) => setName(event.target.value)}>\r\n                                                </TextField>\r\n                                                <TextField fullWidth label=\"EMAIL\" type=\"email\" value={email} variant=\"outlined\" onChange={(event) => setEmail(event.target.value)}>\r\n                                                </TextField>\r\n                                                <TextField fullWidth label=\"PASSWORD\" variant=\"outlined\" type=\"password\" onChange={(event) => setPassword(event.target.value)}>\r\n                                                </TextField>\r\n                                                <TextField fullWidth label=\"CONFIRM PASSWORD\" variant=\"outlined\" type=\"password\" onChange={(event) => setConfirmPassword(event.target.value)}>\r\n                                                </TextField>\r\n                                        </Stack>\r\n                                    </DialogContent>\r\n                                    <DialogActions sx={{paddingBottom: \"30px\", justifyContent: \"center\"}}>\r\n                                        <Stack direction={{xs: \"column\", sm: \"row\"}}  spacing={{xs: 2, sm: 2}} justifyContent=\"center\">\r\n                                            <Button variant=\"contained\" color=\"primary\" type=\"submit\">\r\n                                                UPDATE\r\n                                            </Button>\r\n                                            <Button variant=\"contained\" color=\"secondary\" onClick={handleUpdateDialogClose}>\r\n                                                CLOSE\r\n                                            </Button>\r\n                                        </Stack>\r\n                                    </DialogActions>\r\n                                </Box>\r\n                            </Dialog>\r\n                            <Button variant=\"contained\" color=\"error\" onClick={handleDeleteDialog}>\r\n                                DELETE ACCOUNT\r\n                            </Button>\r\n                            <Dialog open={isDeleteOpen} onClose={handleDeleteDialogClose}>\r\n                                <Typography variant=\"h4\" textAlign=\"center\" sx={{paddingTop: \"20px\"}}>\r\n                                        DELETE PROFILE\r\n                                </Typography>\r\n                                <DialogContent>\r\n                                    <Typography sx={{marginBottom: \"20px\"}}>Are you sure you want to delete your profile/account?</Typography>\r\n                                    <Stack direction={{xs: \"column\", sm: \"row\"}}  spacing={{xs: 2, sm: 2}} justifyContent=\"center\">\r\n                                        <Button variant=\"contained\" color=\"error\" onClick={handleDelete}>\r\n                                            Yes\r\n                                        </Button>\r\n                                        <Button variant=\"contained\" color=\"primary\" onClick={handleDeleteDialogClose}>\r\n                                            No\r\n                                        </Button>\r\n                                    </Stack>\r\n                                </DialogContent>\r\n                            </Dialog>\r\n                        </Stack>\r\n                    </Stack>\r\n                </Paper>\r\n            </Box>\r\n            <Footer/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Profile;"]},"metadata":{},"sourceType":"module"}