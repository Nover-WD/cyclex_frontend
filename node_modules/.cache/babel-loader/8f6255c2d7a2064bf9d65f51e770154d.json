{"ast":null,"code":"import { CART_APPEND_ITEM, CART_REQUEST_SUCCESS, CART_REMOVE_ITEM, REMOVE_ITEMS_SUCCESS } from \"../constants/cartConstants\";\nexport const cartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    cartItems: []\n  };\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case CART_APPEND_ITEM:\n      const newItem = action.payload; //check the id if it have on cartItems state\n\n      const itemInCart = state.cartItems.find(items => items.item === newItem.item);\n      /*if the item is already inside the cart\r\n      will update the item info with the new qty that \r\n      was pass from the action.payload \r\n      else will append the new item inside the cart \r\n      items state*/\n\n      if (itemInCart) {\n        return { ...state,\n          cartItems: state.cartItems.map(items => items.item === itemInCart.item ? newItem : items)\n        };\n      } else {\n        return { ...state,\n          cartItems: [...state.cartItems, newItem]\n        };\n      }\n\n      ;\n\n    case CART_REMOVE_ITEM:\n      return { ...state,\n        //back the items that not equal to the id\n        cartItems: state.cartItems.filter(items => items._id !== action.payload)\n      };\n\n    case CART_REQUEST_SUCCESS:\n      return {\n        cartItems: action.payload\n      };\n\n    case REMOVE_ITEMS_SUCCESS:\n      return {\n        cartItems: []\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["C:/Github Repositories/deploy_cyclex/client/src/reducers/cartReducers.js"],"names":["CART_APPEND_ITEM","CART_REQUEST_SUCCESS","CART_REMOVE_ITEM","REMOVE_ITEMS_SUCCESS","cartReducer","state","cartItems","action","type","newItem","payload","itemInCart","find","items","item","map","filter","_id"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,oBAA3B,EAAiDC,gBAAjD,EAAmEC,oBAAnE,QAA+F,4BAA/F;AAEA,OAAO,MAAMC,WAAW,GAAG,YAAuC;AAAA,MAAtCC,KAAsC,uEAA9B;AAAEC,IAAAA,SAAS,EAAE;AAAb,GAA8B;AAAA,MAAXC,MAAW;;AAC9D,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKR,gBAAL;AACI,YAAMS,OAAO,GAAGF,MAAM,CAACG,OAAvB,CADJ,CAGI;;AACA,YAAMC,UAAU,GAAGN,KAAK,CAACC,SAAN,CAAgBM,IAAhB,CACdC,KAAD,IAAWA,KAAK,CAACC,IAAN,KAAeL,OAAO,CAACK,IADnB,CAAnB;AAIA;AACZ;AACA;AACA;AACA;;AACY,UAAGH,UAAH,EAAe;AACX,eAAO,EACH,GAAGN,KADA;AAEHC,UAAAA,SAAS,EAAED,KAAK,CAACC,SAAN,CAAgBS,GAAhB,CAAqBF,KAAD,IAC3BA,KAAK,CAACC,IAAN,KAAeH,UAAU,CAACG,IAA1B,GAAiCL,OAAjC,GAA2CI,KADpC;AAFR,SAAP;AAMH,OAPD,MAOO;AACH,eAAO,EACH,GAAGR,KADA;AAEHC,UAAAA,SAAS,EAAE,CAAC,GAAGD,KAAK,CAACC,SAAV,EAAqBG,OAArB;AAFR,SAAP;AAIH;;AAAA;;AAEL,SAAKP,gBAAL;AACI,aAAO,EACH,GAAGG,KADA;AAEH;AACAC,QAAAA,SAAS,EAAED,KAAK,CAACC,SAAN,CAAgBU,MAAhB,CAAwBH,KAAD,IAC9BA,KAAK,CAACI,GAAN,KAAcV,MAAM,CAACG,OADd;AAHR,OAAP;;AAOJ,SAAKT,oBAAL;AACI,aAAO;AACHK,QAAAA,SAAS,EAAEC,MAAM,CAACG;AADf,OAAP;;AAGJ,SAAKP,oBAAL;AACI,aAAO;AACHG,QAAAA,SAAS,EAAG;AADT,OAAP;;AAGJ;AACI,aAAOD,KAAP;AA7CR;AA+CH,CAhDM","sourcesContent":["import { CART_APPEND_ITEM, CART_REQUEST_SUCCESS, CART_REMOVE_ITEM, REMOVE_ITEMS_SUCCESS } from \"../constants/cartConstants\";\r\n\r\nexport const cartReducer = (state = { cartItems: [] }, action) => {\r\n    switch(action.type){\r\n        case CART_APPEND_ITEM:\r\n            const newItem = action.payload;\r\n        \r\n            //check the id if it have on cartItems state\r\n            const itemInCart = state.cartItems.find(\r\n                (items) => items.item === newItem.item \r\n            );\r\n\r\n            /*if the item is already inside the cart\r\n            will update the item info with the new qty that \r\n            was pass from the action.payload \r\n            else will append the new item inside the cart \r\n            items state*/\r\n            if(itemInCart) {\r\n                return {\r\n                    ...state,\r\n                    cartItems: state.cartItems.map((items) => \r\n                        items.item === itemInCart.item ? newItem : items\r\n                    )\r\n                }\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    cartItems: [...state.cartItems, newItem],\r\n                }\r\n            };\r\n\r\n        case CART_REMOVE_ITEM:\r\n            return {\r\n                ...state,\r\n                //back the items that not equal to the id\r\n                cartItems: state.cartItems.filter((items) => \r\n                    items._id !== action.payload\r\n                )\r\n            };\r\n        case CART_REQUEST_SUCCESS:\r\n            return {\r\n                cartItems: action.payload\r\n            };\r\n        case REMOVE_ITEMS_SUCCESS:\r\n            return {\r\n                cartItems : []\r\n            };\r\n        default: \r\n            return state;\r\n        }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}