{"ast":null,"code":"import _slicedToArray from\"C:/Github Repositories/cyclex/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{AppBar,Toolbar,Button,Menu,MenuItem,Stack,Box,Badge,Typography}from\"@mui/material\";import AccountCircleIcon from'@mui/icons-material/AccountCircle';import StoreIcon from'@mui/icons-material/Store';import ShoppingCartIcon from'@mui/icons-material/ShoppingCart';import{makeStyles}from\"@mui/styles\";import{Link}from\"react-router-dom\";//react-redux\nimport{useSelector,useDispatch}from\"react-redux\";import{logout}from\"../actions/userActions\";import{removeCartItems}from\"../actions/cartActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(){return{toolbar:{justifyContent:'space-around','@media (max-width: 600px)':{flexDirection:\"column\"}},textDecorationNone:{textDecoration:'none'},blackColor:{color:'#222'}};});export default function PrimaryMenu(){var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),menu=_React$useState2[0],setMenu=_React$useState2[1];var handleClick=function handleClick(e){setMenu(e.currentTarget);};var handleClose=function handleClose(){setMenu(null);};var classes=useStyles();var cart=useSelector(function(state){return state.cart;});var cartItems=cart.cartItems;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var dispatch=useDispatch();var handleLogout=function handleLogout(){dispatch(removeCartItems());dispatch(logout());};return/*#__PURE__*/_jsx(AppBar,{position:\"static\",sx:{padding:\"10px 0px\",boxShadow:\"none\"},color:\"transparent\",children:/*#__PURE__*/_jsxs(Toolbar,{className:classes.toolbar,children:[/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{style:{width:\"200px\"},src:\"/assets/img/CycleX-Logo.png\",alt:\"CycleX Logo\",title:\"CycleX - Home\"})})}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:{xs:8,sm:3},children:[/*#__PURE__*/_jsxs(Button,{id:\"basic-button\",onClick:handleClick,children:[/*#__PURE__*/_jsx(AccountCircleIcon,{fontSize:\"large\"}),userInfo?/*#__PURE__*/_jsxs(Typography,{children:[\"Welcome, \",userInfo.name]}):/*#__PURE__*/_jsx(Typography,{children:\"Account\"})]}),/*#__PURE__*/_jsxs(Menu,{anchorEl:menu,id:\"account-menu\",open:Boolean(menu),onClose:handleClose,sx:{textTransform:\"uppercase\"},children:[/*#__PURE__*/_jsx(MenuItem,{onClick:handleClose,children:userInfo?/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"View Profile\"}):/*#__PURE__*/_jsx(Link,{to:\"/signin\",children:\"Sign in\"})}),/*#__PURE__*/_jsx(MenuItem,{onClick:handleClose,children:userInfo?/*#__PURE__*/_jsx(Link,{to:\"#\",onClick:handleLogout,children:\"Logout\"}):/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Sign up\"})})]}),/*#__PURE__*/_jsx(Link,{to:\"/shop\",title:\"Go to Shop\",children:/*#__PURE__*/_jsx(Button,{children:/*#__PURE__*/_jsx(StoreIcon,{fontSize:\"large\",color:\"primary\"})})}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",title:\"See your Cart\",children:/*#__PURE__*/_jsx(Button,{children:/*#__PURE__*/_jsx(Badge,{color:\"secondary\",badgeContent:cartItems.reduce(function(initialValue,item){return item._id?1+initialValue:initialValue;},0),children:/*#__PURE__*/_jsx(ShoppingCartIcon,{fontSize:\"large\",color:\"primary\"})})})})]})]})});}","map":{"version":3,"sources":["C:/Github Repositories/cyclex/frontend/src/components/PrimaryMenu.js"],"names":["React","AppBar","Toolbar","Button","Menu","MenuItem","Stack","Box","Badge","Typography","AccountCircleIcon","StoreIcon","ShoppingCartIcon","makeStyles","Link","useSelector","useDispatch","logout","removeCartItems","useStyles","toolbar","justifyContent","flexDirection","textDecorationNone","textDecoration","blackColor","color","PrimaryMenu","useState","menu","setMenu","handleClick","e","currentTarget","handleClose","classes","cart","state","cartItems","userLogin","userInfo","dispatch","handleLogout","padding","boxShadow","width","xs","sm","name","Boolean","textTransform","reduce","initialValue","item","_id"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { AppBar,  Toolbar, Button, Menu, MenuItem, Stack, Box, Badge, Typography} from \"@mui/material\";\r\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\r\nimport StoreIcon from '@mui/icons-material/Store';\r\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart';\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\n//react-redux\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { logout } from \"../actions/userActions\";\r\nimport { removeCartItems } from \"../actions/cartActions\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  toolbar: {\r\n    justifyContent: 'space-around',\r\n    '@media (max-width: 600px)': {\r\n      flexDirection: \"column\"\r\n    }\r\n  },\r\n  textDecorationNone: {\r\n    textDecoration: 'none'\r\n  },\r\n  blackColor: {\r\n    color: '#222'\r\n  }\r\n}))\r\n\r\nexport default function PrimaryMenu(){\r\n    const [menu, setMenu] = React.useState(null);\r\n    \r\n    const handleClick = (e) => {\r\n      setMenu(e.currentTarget);\r\n    }\r\n\r\n    const handleClose = () => {\r\n      setMenu(null);\r\n    }\r\n\r\n    const classes = useStyles();\r\n\r\n    const cart = useSelector((state) => state.cart);\r\n    const { cartItems } = cart;\r\n\r\n    const userLogin = useSelector((state) => state.userLogin);\r\n    const { userInfo } = userLogin;\r\n    const dispatch = useDispatch();\r\n\r\n    const handleLogout = () => {\r\n      dispatch(removeCartItems());\r\n      dispatch(logout());\r\n    };\r\n\r\n    return(\r\n          <AppBar position=\"static\" sx={{padding: \"10px 0px\", boxShadow:\"none\"}} color=\"transparent\">\r\n              <Toolbar className={classes.toolbar}>\r\n                  <Box>\r\n                  <Link to=\"/\">\r\n                  <img style={{width: \"200px\"}} src=\"/assets/img/CycleX-Logo.png\" alt=\"CycleX Logo\" title=\"CycleX - Home\"/>\r\n                  </Link>\r\n                  </Box>\r\n                  <Stack direction=\"row\" spacing={{xs: 8, sm: 3 }}>\r\n                    <Button\r\n                    id=\"basic-button\"\r\n                    onClick={handleClick}\r\n                    >\r\n                      <AccountCircleIcon fontSize=\"large\"/>\r\n                      { userInfo ? ( <Typography>Welcome, {userInfo.name}</Typography> ) : <Typography>Account</Typography> }\r\n                    </Button>\r\n                    <Menu\r\n                    anchorEl={menu}\r\n                    id=\"account-menu\"\r\n                    open={Boolean(menu)}\r\n                    onClose={handleClose}\r\n                    sx={{textTransform: \"uppercase\"}}\r\n                        >\r\n                      <MenuItem onClick={handleClose}>\r\n                        { userInfo ? (\r\n                          <Link to=\"/profile\">View Profile</Link>\r\n                        ) : (\r\n                          <Link to=\"/signin\">Sign in</Link>\r\n                        )}\r\n                      </MenuItem> \r\n                      <MenuItem onClick={handleClose}>\r\n                        { userInfo ? (\r\n                          <Link to=\"#\" onClick={handleLogout}>Logout</Link>\r\n                        ) : (\r\n                          <Link to=\"/signup\">Sign up</Link>\r\n                        )}\r\n                      </MenuItem> \r\n\r\n                   </Menu>\r\n                   <Link to=\"/shop\" title=\"Go to Shop\">\r\n                      <Button>\r\n                        <StoreIcon fontSize=\"large\" color=\"primary\"/>\r\n                      </Button>\r\n                   </Link>\r\n                   <Link to=\"/cart\" title=\"See your Cart\">\r\n                    <Button>\r\n                        <Badge color=\"secondary\" badgeContent={cartItems.reduce((initialValue, item) => item._id ? 1 + initialValue : initialValue, 0)}>\r\n                          <ShoppingCartIcon fontSize=\"large\" color=\"primary\"/>\r\n                        </Badge>\r\n                    </Button>\r\n                    </Link>\r\n                </Stack>\r\n              </Toolbar>\r\n         </AppBar>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}