{"ast":null,"code":"import _slicedToArray from\"C:/Github Repositories/deploy_cyclex/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";// import FormButton from \"../Button\";\n// import Email from \"../Email\";\n// import Password from \"../Password\";\nimport RememberMe from\"../RememberMe\";import{Link,useLocation,useNavigate}from\"react-router-dom\";import{Box,Typography,Stack,TextField,Button,Alert,Collapse,IconButton}from\"@mui/material\";import{makeStyles}from\"@mui/styles\";import CloseIcon from\"@mui/icons-material/Close\";//redux\nimport{useDispatch,useSelector}from\"react-redux\";import{login}from\"../../../src/actions/userActions\";//components\nimport Form from\"../Form\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{noneTextDecoration:{textDecoration:\"none\",color:theme.palette.secondary.light}};});export default function SignInForm(){var classes=useStyles();var history=useNavigate();var location=useLocation();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isAlertOpen=_useState6[0],setIsAlertOpen=_useState6[1];//redux\nvar dispatch=useDispatch();var userLogin=useSelector(function(state){return state.userLogin;});var isLoading=userLogin.isLoading,error=userLogin.error,userInfo=userLogin.userInfo;var deleteProfile=useSelector(function(state){return state.deleteProfile;});var deleteSuccess=deleteProfile.deleteSuccess;var redirect=location.search?location.search.split(\"=\")[1]:\"/\";var handleSubmit=function handleSubmit(event){event.preventDefault();dispatch(login(email,password));};useEffect(function(){if(userInfo){history(redirect);}},[history,userInfo,redirect]);return/*#__PURE__*/_jsxs(_Fragment,{children:[deleteSuccess?/*#__PURE__*/_jsx(Collapse,{in:isAlertOpen,children:/*#__PURE__*/_jsx(Alert,{action:/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return setIsAlertOpen(false);},size:\"small\",children:/*#__PURE__*/_jsx(CloseIcon,{fontSize:\"inherit\"})}),children:\"Your account is now deleted\"})}):null,/*#__PURE__*/_jsx(Form,{isLoading:isLoading,error:error}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/assets/img/CycleX-Logo.png\",width:\"150px\",style:{margin:\"auto\",display:\"block\"},alt:\"CycleX Logo\",title:\"CycleX - Home\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"h3\",textAlign:\"center\",sx:{padding:\"30px 0px\"},children:\"SIGN BACK IN\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",noValidate:true,autoComplete:\"off\",onSubmit:function onSubmit(event){return handleSubmit(event);},children:[/*#__PURE__*/_jsxs(Stack,{spacing:2,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"EMAIL\",id:\"email\",required:true,variant:\"outlined\",onChange:function onChange(event){return setEmail(event.target.value);}}),/*#__PURE__*/_jsx(TextField,{label:\"PASSWORD\",required:true,type:\"password\",onChange:function onChange(event){return setPassword(event.target.value);}}),/*#__PURE__*/_jsx(RememberMe,{}),/*#__PURE__*/_jsx(Typography,{children:/*#__PURE__*/_jsx(Link,{to:\"/forgot\",children:\"FORGOT PASSWORD?\"})})]}),/*#__PURE__*/_jsxs(Stack,{sx:{margin:\"20px 0\"},direction:{xs:\"column\",sm:\"row\"},spacing:{xs:1,sm:2},children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",type:\"submit\",children:\"LOGIN\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",children:/*#__PURE__*/_jsx(Link,{to:redirect?\"/signup?redirect=\".concat(redirect):\"/signup\",color:\"#fff\",className:classes.noneTextDecoration,children:\"SIGN UP\"})})]})]})]});}","map":{"version":3,"sources":["C:/Github Repositories/deploy_cyclex/client/src/components/forms/SignInForm.js"],"names":["React","useEffect","useState","RememberMe","Link","useLocation","useNavigate","Box","Typography","Stack","TextField","Button","Alert","Collapse","IconButton","makeStyles","CloseIcon","useDispatch","useSelector","login","Form","useStyles","theme","noneTextDecoration","textDecoration","color","palette","secondary","light","SignInForm","classes","history","location","email","setEmail","password","setPassword","isAlertOpen","setIsAlertOpen","dispatch","userLogin","state","isLoading","error","userInfo","deleteProfile","deleteSuccess","redirect","search","split","handleSubmit","event","preventDefault","margin","display","padding","target","value","xs","sm"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n// import FormButton from \"../Button\";\r\n// import Email from \"../Email\";\r\n// import Password from \"../Password\";\r\nimport RememberMe from \"../RememberMe\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { Box, Typography, Stack, TextField, Button, Alert, Collapse, IconButton } from \"@mui/material\";\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\n\r\n//redux\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { login } from \"../../../src/actions/userActions\";\r\n\r\n//components\r\nimport Form from \"../Form\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    noneTextDecoration: {\r\n        textDecoration: \"none\",\r\n        color: theme.palette.secondary.light\r\n    }\r\n}));\r\nexport default function SignInForm(){\r\n    const classes = useStyles();\r\n    const history = useNavigate();\r\n    const location = useLocation();\r\n    const [email, setEmail] = useState(null);\r\n    const [password, setPassword] = useState(null);\r\n    const [isAlertOpen, setIsAlertOpen] = useState(true);\r\n\r\n    //redux\r\n    const dispatch = useDispatch();\r\n    const userLogin = useSelector((state) => state.userLogin);\r\n    const { isLoading, error, userInfo } = userLogin;\r\n    const deleteProfile = useSelector((state) => state.deleteProfile);\r\n    const { deleteSuccess } = deleteProfile;\r\n\r\n    const redirect = location.search ? location.search.split(\"=\")[1] : \"/\";\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n\r\n        dispatch(login(email, password));\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(userInfo) {\r\n            history(redirect);\r\n        }\r\n    }, [history, userInfo, redirect]);\r\n\r\n    return(\r\n        <>\r\n            { deleteSuccess ? (\r\n                <Collapse in={isAlertOpen}>\r\n                    <Alert action={<IconButton onClick={() => setIsAlertOpen(false)} size=\"small\"><CloseIcon fontSize=\"inherit\"/></IconButton>}>Your account is now deleted</Alert> \r\n                </Collapse>\r\n                ) : null }\r\n            <Form isLoading={isLoading} error={error}/>\r\n                <Link to=\"/\">\r\n                    <img src=\"/assets/img/CycleX-Logo.png\" width=\"150px\" style={{margin: \"auto\", display:\"block\"}} alt=\"CycleX Logo\" title=\"CycleX - Home\"/>\r\n                </Link>\r\n                <Typography variant=\"h3\" textAlign=\"center\" sx={{padding: \"30px 0px\"}}>\r\n                    SIGN BACK IN\r\n                </Typography>\r\n                <Box component=\"form\" noValidate autoComplete=\"off\" onSubmit={(event) => handleSubmit(event)}>\r\n                    <Stack spacing={2}>\r\n                        <TextField fullWidth label=\"EMAIL\" id=\"email\" required variant=\"outlined\" \r\n                        onChange={(event) => setEmail(event.target.value)}/>\r\n                        <TextField label=\"PASSWORD\" required type=\"password\" \r\n                        onChange={(event) => setPassword(event.target.value)}/>\r\n                        <RememberMe/>\r\n                        <Typography>\r\n                            <Link to=\"/forgot\">FORGOT PASSWORD?</Link>\r\n                        </Typography>\r\n                    </Stack>\r\n                    <Stack sx={{margin: \"20px 0\"}} direction={{xs: \"column\", sm: \"row\"}} spacing={{xs: 1, sm: 2}}>\r\n                        <Button variant=\"contained\" type=\"submit\">\r\n                        LOGIN\r\n                        </Button>\r\n                        <Button variant=\"contained\" color=\"secondary\" >\r\n                            <Link to={redirect ? `/signup?redirect=${redirect}` : \"/signup\" } color=\"#fff\" className={classes.noneTextDecoration}>\r\n                                SIGN UP\r\n                            </Link>\r\n                        </Button>\r\n                    </Stack>\r\n                </Box>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}