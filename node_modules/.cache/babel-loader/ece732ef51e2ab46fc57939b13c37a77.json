{"ast":null,"code":"import _slicedToArray from\"C:/Github Repositories/deploy_cyclex/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"C:/Github Repositories/deploy_cyclex/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useEffect,useState}from\"react\";import{Box,Button,Typography,Stack,TextField,TableContainer,TableHead,TableRow,TableBody,Table,Divider,DialogContent,RadioGroup,FormControlLabel,Dialog,FormLabel,Radio,DialogActions,Collapse,Alert,IconButton}from\"@mui/material\";import TableCell,{tableCellClasses}from\"@mui/material/TableCell\";import{makeStyles,styled}from\"@mui/styles\";import CloseIcon from\"@mui/icons-material/Close\";//redux\nimport{useDispatch,useSelector}from\"react-redux\";import{getAllUsers,updateUser,updateResetSuccess,deleteUser,sendPasswordReset,addNewUser,addNewUserErrorReset}from\"../../actions/userActions\";//react-router\nimport{useNavigate}from\"react-router-dom\";//files\nimport AdminLoader from\"./AdminLoader\";import Message from\"../Message\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{tablehead:{backgroundColor:theme.palette.secondary.main,color:theme.palette.primary.light}};});var StyledTableCell=styled(TableCell)(function(_ref){var theme=_ref.theme;return _defineProperty({},\"&.\".concat(tableCellClasses.head),{backgroundColor:theme.palette.primary.main,color:theme.palette.common.white});});var StyledTableRow=styled(TableRow)(function(_ref3){var theme=_ref3.theme;return{'&:nth-of-type(odd)':{backgroundColor:theme.palette.action.hover},// hide last border\n'&:last-child td, &:last-child th':{border:0}};});var AdminUser=function AdminUser(){//Add User State\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),addName=_useState2[0],setAddName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),addEmail=_useState4[0],setAddEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),addPassword=_useState6[0],setAddPassword=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),addIsAdmin=_useState8[0],setAddIsAdmin=_useState8[1];//Update User State\nvar _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),name=_useState10[0],setName=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),email=_useState12[0],setEmail=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),password=_useState14[0],setPassword=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isAdmin=_useState16[0],setIsAdmin=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),userId=_useState18[0],setUserId=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),userError=_useState20[0],setUserError=_useState20[1];//Alert State\nvar _useState21=useState(true),_useState22=_slicedToArray(_useState21,2),isDeleteAlertOpen=_useState22[0],setIsDeleteAlertOpen=_useState22[1];var _useState23=useState(true),_useState24=_slicedToArray(_useState23,2),isAlertOpen=_useState24[0],setIsAlertOpen=_useState24[1];var _useState25=useState(true),_useState26=_slicedToArray(_useState25,2),isSendPasswordAlertOpen=_useState26[0],setIsSendPasswordAlertOpen=_useState26[1];var _useState27=useState(true),_useState28=_slicedToArray(_useState27,2),isAddAlert=_useState28[0],setIsAddAlert=_useState28[1];var _useState29=useState(),_useState30=_slicedToArray(_useState29,2),addUserValidation=_useState30[0],setAddUserValidation=_useState30[1];//Dialogs State\nvar _useState31=useState(null),_useState32=_slicedToArray(_useState31,2),isEditOpen=_useState32[0],setIsEditOpen=_useState32[1];var _useState33=useState(null),_useState34=_slicedToArray(_useState33,2),isDeleteOpen=_useState34[0],setIsDeleteOpen=_useState34[1];var _useState35=useState(null),_useState36=_slicedToArray(_useState35,2),isAddOpen=_useState36[0],setIsAddOpen=_useState36[1];var history=useNavigate();var classes=useStyles();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.getAllUsers;}),isUsersLoading=_useSelector.isUsersLoading,allUsers=_useSelector.allUsers,usersError=_useSelector.usersError;var _useSelector2=useSelector(function(state){return state.updateUser;}),isLoading=_useSelector2.isLoading,success=_useSelector2.success;var _useSelector3=useSelector(function(state){return state.deleteUser;}),isDeleteLoading=_useSelector3.isDeleteLoading,deleteSuccess=_useSelector3.deleteSuccess,deleteError=_useSelector3.deleteError;var _useSelector4=useSelector(function(state){return state.sendPasswordReset;}),isSendPasswordLoading=_useSelector4.isSendPasswordLoading,sendPasswordSuccess=_useSelector4.sendPasswordSuccess,sendPasswordError=_useSelector4.sendPasswordError;var _useSelector5=useSelector(function(state){return state.addNewUser;}),isAddUserLoading=_useSelector5.isAddUserLoading,addUserSuccess=_useSelector5.addUserSuccess,addUserError=_useSelector5.addUserError;//DELETE ACTION\nvar handleDeleteOpen=function handleDeleteOpen(userId){setUserId(userId);setIsDeleteOpen(true);};var handleDeleteClose=function handleDeleteClose(){setIsDeleteOpen(false);};var handleDeleteUser=function handleDeleteUser(){dispatch(deleteUser(userId));};var handleDeleteAlert=function handleDeleteAlert(){setIsDeleteAlertOpen(false);};//ADD ACTION\nvar handleAddOpen=function handleAddOpen(){setIsAddOpen(true);};var handleAddClose=function handleAddClose(){setIsAddOpen(false);};var handleAddSubmit=function handleAddSubmit(event){event.preventDefault();var mailFormat=/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;if(addName==\"\"||addEmail==\"\"||addPassword==\"\"){setAddUserValidation(\"All field is required\");}else if(!addEmail.match(mailFormat)){setAddUserValidation(\"Email is invalid\");}else if(addPassword.length<7){setAddUserValidation(\"Password minimum character is 7\");}else{setAddUserValidation(false);dispatch(addNewUserErrorReset());setIsAddAlert(true);dispatch(addNewUser(addName,addEmail,addPassword,addIsAdmin));}};var handleAddAlert=function handleAddAlert(){setIsAddAlert(false);};//EDIT ACTION\nvar handleEditOpen=function handleEditOpen(userId,name,email){setIsEditOpen(true);setUserId(userId);setName(name);setEmail(email);dispatch(updateResetSuccess());};var handleEditClose=function handleEditClose(){setIsEditOpen(false);};var handleSubmit=function handleSubmit(event){event.preventDefault();var mailFormat=/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;if(name==\"\"||email==\"\"||password==\"\"){setUserError(\"All field is required\");}else if(!email.match(mailFormat)){setUserError(\"Email is invalid\");}else if(password.length<7){setUserError(\"Password minimum character is 7\");}else{dispatch(updateUser(userId,name,email,password,isAdmin));}};var handleAlert=function handleAlert(){setIsAlertOpen(false);dispatch(updateResetSuccess());};//SEND PASSWORD RESET ACTION\nvar handleSendPasswordReset=function handleSendPasswordReset(email){setIsSendPasswordAlertOpen(true);dispatch(sendPasswordReset(email));};var handleSendPasswordAlert=function handleSendPasswordAlert(){setIsSendPasswordAlertOpen(false);};useEffect(function(){if(success){setUserError(false);setIsEditOpen(false);history(\"/admin?tab=2\");setIsAlertOpen(true);}if(deleteSuccess){setIsDeleteOpen(false);history(\"/admin?tab=2\");}if(addUserSuccess){setIsAddOpen(false);history(\"/admin?tab=2\");//reset add user success here, that makes view loads\n}dispatch(getAllUsers());},[dispatch,success,deleteSuccess,addUserSuccess]);//click edit, find the user info filtered by user id\nreturn/*#__PURE__*/_jsxs(Box,{sx:{heigth:\"100vh\",width:\"85vw\",padding:\"30px 30px\",margin:\"0 auto\"},children:[addUserSuccess?/*#__PURE__*/_jsx(Collapse,{in:isAddAlert,children:/*#__PURE__*/_jsx(Alert,{sx:{marginBottom:\"20px\"},action:/*#__PURE__*/_jsx(IconButton,{onClick:handleAddAlert,size:\"small\",children:/*#__PURE__*/_jsx(CloseIcon,{fontSize:\"inherit\"})}),children:\"User added\"})}):null,success?/*#__PURE__*/_jsx(Collapse,{in:isAlertOpen,children:/*#__PURE__*/_jsx(Alert,{sx:{marginBottom:\"20px\"},action:/*#__PURE__*/_jsx(IconButton,{onClick:handleAlert,size:\"small\",children:/*#__PURE__*/_jsx(CloseIcon,{fontSize:\"inherit\"})}),children:\"User updated\"})}):null,deleteSuccess?/*#__PURE__*/_jsx(Collapse,{in:isDeleteAlertOpen,children:/*#__PURE__*/_jsx(Alert,{sx:{marginBottom:\"20px\"},action:/*#__PURE__*/_jsx(IconButton,{onClick:handleDeleteAlert,size:\"small\",children:/*#__PURE__*/_jsx(CloseIcon,{fontSize:\"inherit\"})}),children:\"User deleted\"})}):null,isSendPasswordLoading?/*#__PURE__*/_jsx(AdminLoader,{form:true,loaderMessage:\"Sending Password Reset\"}):sendPasswordSuccess?/*#__PURE__*/_jsx(Collapse,{in:isSendPasswordAlertOpen,children:/*#__PURE__*/_jsx(Alert,{sx:{marginBottom:\"20px\"},action:/*#__PURE__*/_jsx(IconButton,{onClick:handleSendPasswordAlert,size:\"small\",children:/*#__PURE__*/_jsx(CloseIcon,{fontSize:\"inherit\"})}),children:\"Password reset is sent!\"})}):sendPasswordError?/*#__PURE__*/_jsx(Collapse,{in:isSendPasswordAlertOpen,children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{marginBottom:\"20px\"},action:/*#__PURE__*/_jsx(IconButton,{onClick:handleSendPasswordAlert,size:\"small\",children:/*#__PURE__*/_jsx(CloseIcon,{fontSize:\"inherit\"})}),children:sendPasswordError})}):null,isUsersLoading?/*#__PURE__*/_jsx(AdminLoader,{loaderMessage:\"Fetching Users\"}):usersError?/*#__PURE__*/_jsx(Message,{severity:\"error\",form:true,children:usersError}):allUsers?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:2,sx:{mb:\"20px\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h2\",children:\"Users\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",onClick:handleAddOpen,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",fontWeight:400,children:\"Add New\"})})]}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"space-between\",sx:{mb:\"20px\"},children:[/*#__PURE__*/_jsxs(Typography,{sx:{alignSelf:\"end\"},children:[\"All (\",allUsers.length,\") , Admin (\",allUsers.reduce(function(initialValue,user){return user.isAdmin?1+initialValue:initialValue;},0),\"), Shopper (\",allUsers.reduce(function(initialValue,user){return!user.isAdmin?1+initialValue:initialValue;},0),\")\"]}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:2,children:[/*#__PURE__*/_jsx(TextField,{type:\"text\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",fontWeight:400,children:\"Search Users\"})})]})]}),/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{className:classes.tablehead,children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(StyledTableCell,{children:/*#__PURE__*/_jsx(Typography,{children:\"Name\"})}),/*#__PURE__*/_jsx(StyledTableCell,{children:/*#__PURE__*/_jsx(Typography,{children:\"Email\"})}),/*#__PURE__*/_jsx(StyledTableCell,{children:/*#__PURE__*/_jsx(Typography,{children:\"Role\"})}),/*#__PURE__*/_jsx(StyledTableCell,{children:/*#__PURE__*/_jsx(Typography,{children:\"Last Login\"})}),/*#__PURE__*/_jsx(StyledTableCell,{children:/*#__PURE__*/_jsx(Typography,{})})]})}),allUsers.map(function(users){return/*#__PURE__*/_jsx(TableBody,{children:/*#__PURE__*/_jsxs(StyledTableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:users.name}),/*#__PURE__*/_jsx(TableCell,{children:users.email}),/*#__PURE__*/_jsx(TableCell,{children:users.isAdmin?\"Admin\":\"Shopper\"}),/*#__PURE__*/_jsx(TableCell,{children:users.lastLogin}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:2,divider:/*#__PURE__*/_jsx(Divider,{orientation:\"vertical\",flexItem:true}),children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return handleEditOpen(users._id,users.name,users.email);},children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",fontWeight:400,children:\"Edit\"})}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return handleDeleteOpen(users._id);},children:/*#__PURE__*/_jsx(Typography,{color:\"error\",variant:\"h6\",fontWeight:400,children:\"DELETE\"})}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return handleSendPasswordReset(users.email);},children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",fontWeight:400,children:\"Send Password Reset\"})})]})})]},users._id)});}),/*#__PURE__*/_jsxs(Dialog,{open:isAddOpen,onClose:function onClose(event){return handleAddClose(event);},children:[isAddUserLoading?/*#__PURE__*/_jsx(AdminLoader,{form:true,loaderMessage:\"Adding User\"}):addUserValidation?/*#__PURE__*/_jsx(Message,{severity:\"error\",form:true,children:addUserValidation}):addUserError?/*#__PURE__*/_jsx(Message,{severity:\"error\",form:true,children:addUserError}):null,/*#__PURE__*/_jsx(Typography,{variant:\"h4\",textAlign:\"center\",sx:{paddingTop:\"20px\"},children:\"ADD USER\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",noValidate:true,autoComplete:\"off\",onSubmit:handleAddSubmit,children:[/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(Stack,{spacing:2,children:[/*#__PURE__*/_jsx(TextField,{type:\"text\",value:addName,fullWidth:true,label:\"NAME\",onChange:function onChange(event){return setAddName(event.target.value);}}),/*#__PURE__*/_jsx(TextField,{type:\"text\",value:addEmail,fullWidth:true,label:\"EMAIL\",onChange:function onChange(event){return setAddEmail(event.target.value);}}),/*#__PURE__*/_jsx(TextField,{type:\"text\",value:addPassword,fullWidth:true,label:\"PASSWORD\",onChange:function onChange(event){return setAddPassword(event.target.value);}}),/*#__PURE__*/_jsx(FormLabel,{children:\"ROLE\"}),/*#__PURE__*/_jsxs(RadioGroup,{row:true,defaultValue:\"shopper\",children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"admin\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"ADMIN\",onClick:function onClick(){return setAddIsAdmin(true);}}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"shopper\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"SHOPPER\",onClick:function onClick(){return setAddIsAdmin(false);}})]})]})}),/*#__PURE__*/_jsxs(DialogActions,{sx:{paddingBottom:\"30px\",justifyContent:\"center\"},children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",type:\"submit\",color:\"primary\",children:\"ADD\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleAddClose,color:\"secondary\",children:\"CLOSE\"})]})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:isEditOpen,onClose:handleEditClose,children:[userError?/*#__PURE__*/_jsx(Message,{severity:\"error\",form:true,children:userError}):null,/*#__PURE__*/_jsx(Typography,{variant:\"h4\",textAlign:\"center\",sx:{paddingTop:\"20px\"},children:\"UPDATE USER\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",noValidate:true,autoComplete:\"off\",onSubmit:function onSubmit(event){return handleSubmit(event);},children:[/*#__PURE__*/_jsx(DialogContent,{sx:{padding:\"20px 40px!important\"},children:/*#__PURE__*/_jsxs(Stack,{spacing:2,children:[/*#__PURE__*/_jsx(TextField,{label:\"NAME\",type:\"text\",value:name,onChange:function onChange(event){return setName(event.target.value);}}),/*#__PURE__*/_jsx(TextField,{label:\"EMAIL\",type:\"text\",value:email,onChange:function onChange(event){return setEmail(event.target.value);}}),/*#__PURE__*/_jsx(TextField,{label:\"PASSWORD\",type:\"text\",value:password,onChange:function onChange(event){return setPassword(event.target.value);}}),/*#__PURE__*/_jsx(FormLabel,{children:\"ROLE\"}),/*#__PURE__*/_jsxs(RadioGroup,{row:true,defaultValue:\"shopper\",children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"admin\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"ADMIN\",onClick:function onClick(){return setIsAdmin(true);}}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"shopper\",control:/*#__PURE__*/_jsx(Radio,{}),label:\"SHOPPER\",onClick:function onClick(){return setIsAdmin(false);}})]})]})}),/*#__PURE__*/_jsxs(DialogActions,{sx:{paddingBottom:\"30px\",justifyContent:\"center\"},children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",type:\"submit\",color:\"primary\",children:\"UPDATE\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleEditClose,color:\"secondary\",children:\"CLOSE\"})]})]})]}),/*#__PURE__*/_jsxs(Dialog,{open:isDeleteOpen,onClose:handleDeleteClose,children:[isDeleteLoading?/*#__PURE__*/_jsx(AdminLoader,{form:true}):deleteError?/*#__PURE__*/_jsx(Message,{severity:\"error\",form:true,children:deleteError}):null,/*#__PURE__*/_jsx(Typography,{variant:\"h4\",textAlign:\"center\",sx:{paddingTop:\"20px\"},children:\"DELETE USER\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(Typography,{sx:{marginBottom:\"20px\"},children:\"Are you sure you want to delete the user?\"}),/*#__PURE__*/_jsxs(Stack,{direction:{xs:\"column\",sm:\"row\"},spacing:{xs:2,sm:2},justifyContent:\"center\",children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"error\",onClick:handleDeleteUser,children:\"Yes\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleDeleteClose,children:\"No\"})]})]})]})]})})]})]}):null]});};export default AdminUser;","map":{"version":3,"sources":["C:/Github Repositories/deploy_cyclex/client/src/components/admin_components/AdminUser.js"],"names":["React","useEffect","useState","Box","Button","Typography","Stack","TextField","TableContainer","TableHead","TableRow","TableBody","Table","Divider","DialogContent","RadioGroup","FormControlLabel","Dialog","FormLabel","Radio","DialogActions","Collapse","Alert","IconButton","TableCell","tableCellClasses","makeStyles","styled","CloseIcon","useDispatch","useSelector","getAllUsers","updateUser","updateResetSuccess","deleteUser","sendPasswordReset","addNewUser","addNewUserErrorReset","useNavigate","AdminLoader","Message","useStyles","theme","tablehead","backgroundColor","palette","secondary","main","color","primary","light","StyledTableCell","head","common","white","StyledTableRow","action","hover","border","AdminUser","addName","setAddName","addEmail","setAddEmail","addPassword","setAddPassword","addIsAdmin","setAddIsAdmin","name","setName","email","setEmail","password","setPassword","isAdmin","setIsAdmin","userId","setUserId","userError","setUserError","isDeleteAlertOpen","setIsDeleteAlertOpen","isAlertOpen","setIsAlertOpen","isSendPasswordAlertOpen","setIsSendPasswordAlertOpen","isAddAlert","setIsAddAlert","addUserValidation","setAddUserValidation","isEditOpen","setIsEditOpen","isDeleteOpen","setIsDeleteOpen","isAddOpen","setIsAddOpen","history","classes","dispatch","state","isUsersLoading","allUsers","usersError","isLoading","success","isDeleteLoading","deleteSuccess","deleteError","isSendPasswordLoading","sendPasswordSuccess","sendPasswordError","isAddUserLoading","addUserSuccess","addUserError","handleDeleteOpen","handleDeleteClose","handleDeleteUser","handleDeleteAlert","handleAddOpen","handleAddClose","handleAddSubmit","event","preventDefault","mailFormat","match","length","handleAddAlert","handleEditOpen","handleEditClose","handleSubmit","handleAlert","handleSendPasswordReset","handleSendPasswordAlert","heigth","width","padding","margin","marginBottom","mb","alignSelf","reduce","initialValue","user","map","users","lastLogin","_id","paddingTop","target","value","paddingBottom","justifyContent","xs","sm"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Box, Button, Typography, Stack, TextField, TableContainer, TableHead,\r\nTableRow, TableBody, Table, Divider, DialogContent, RadioGroup, FormControlLabel, Dialog, \r\nFormLabel, Radio, DialogActions, Collapse, Alert, IconButton } from \"@mui/material\";\r\nimport TableCell, {tableCellClasses} from \"@mui/material/TableCell\";\r\nimport { makeStyles, styled } from \"@mui/styles\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\n\r\n//redux\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getAllUsers, updateUser, updateResetSuccess, deleteUser, sendPasswordReset, addNewUser, \r\n    addNewUserErrorReset } from \"../../actions/userActions\";\r\n\r\n//react-router\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n//files\r\nimport AdminLoader from \"./AdminLoader\";\r\nimport Message from \"../Message\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    tablehead: {\r\n        backgroundColor: theme.palette.secondary.main,\r\n        color: theme.palette.primary.light\r\n    }\r\n}))\r\n\r\nconst StyledTableCell = styled(TableCell)(({ theme }) => ({\r\n    [`&.${tableCellClasses.head}`]: {\r\n      backgroundColor: theme.palette.primary.main,\r\n      color: theme.palette.common.white,\r\n    }\r\n  }));\r\n\r\nconst StyledTableRow = styled(TableRow)(({ theme }) => ({\r\n    '&:nth-of-type(odd)': {\r\n      backgroundColor: theme.palette.action.hover,\r\n    },\r\n    // hide last border\r\n    '&:last-child td, &:last-child th': {\r\n      border: 0,\r\n    },\r\n  }));\r\n\r\nconst AdminUser = () => {\r\n    //Add User State\r\n    const [addName, setAddName] = useState(\"\");\r\n    const [addEmail, setAddEmail] = useState(\"\");\r\n    const [addPassword, setAddPassword] = useState(\"\");\r\n    const [addIsAdmin, setAddIsAdmin] = useState(false);\r\n\r\n\r\n    //Update User State\r\n    const [name, setName] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n    const [userId, setUserId] = useState(null);\r\n    const [userError, setUserError] = useState();\r\n\r\n    //Alert State\r\n    const [isDeleteAlertOpen, setIsDeleteAlertOpen] = useState(true);\r\n    const [isAlertOpen, setIsAlertOpen] = useState(true);\r\n    const [isSendPasswordAlertOpen, setIsSendPasswordAlertOpen] = useState(true);\r\n    const [isAddAlert, setIsAddAlert] = useState(true);\r\n    const [addUserValidation, setAddUserValidation] = useState();\r\n    \r\n    //Dialogs State\r\n    const [isEditOpen, setIsEditOpen] = useState(null);\r\n    const [isDeleteOpen, setIsDeleteOpen] = useState(null);\r\n    const [isAddOpen, setIsAddOpen] = useState(null);\r\n\r\n    const history = useNavigate();\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const { isUsersLoading, allUsers, usersError } = useSelector((state) => state.getAllUsers);\r\n    const { isLoading, success} = useSelector((state) => state.updateUser);\r\n    const {isDeleteLoading, deleteSuccess, deleteError} = useSelector((state) => state.deleteUser);\r\n    const {isSendPasswordLoading, sendPasswordSuccess, sendPasswordError} = useSelector((state) => state.sendPasswordReset);\r\n    const {isAddUserLoading, addUserSuccess, addUserError} = useSelector((state) => state.addNewUser)\r\n\r\n    //DELETE ACTION\r\n    const handleDeleteOpen = (userId) => {\r\n        setUserId(userId)\r\n        setIsDeleteOpen(true);\r\n    }\r\n\r\n    const handleDeleteClose = () => {\r\n        setIsDeleteOpen(false);\r\n    }\r\n\r\n    const handleDeleteUser = () => {\r\n        dispatch(deleteUser(userId));\r\n    }\r\n\r\n    const handleDeleteAlert = () => {\r\n        setIsDeleteAlertOpen(false);\r\n    }\r\n    //ADD ACTION\r\n    const handleAddOpen = () => {\r\n        setIsAddOpen(true);\r\n    }\r\n\r\n    const handleAddClose = () => {\r\n        setIsAddOpen(false);\r\n    }\r\n\r\n    const handleAddSubmit = (event) => {\r\n        event.preventDefault();\r\n        \r\n        let mailFormat = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\r\n\r\n        if(addName == \"\" || addEmail == \"\" || addPassword == \"\"){\r\n            setAddUserValidation(\"All field is required\");\r\n        } else if (!addEmail.match(mailFormat)){\r\n            setAddUserValidation(\"Email is invalid\");\r\n        } else if (addPassword.length < 7){\r\n            setAddUserValidation(\"Password minimum character is 7\")\r\n        } else {\r\n            setAddUserValidation(false);\r\n            dispatch(addNewUserErrorReset());\r\n            setIsAddAlert(true);\r\n            dispatch(addNewUser(addName, addEmail, addPassword, addIsAdmin))\r\n        }\r\n    }\r\n\r\n    const handleAddAlert = () => {\r\n        setIsAddAlert(false);\r\n    }\r\n\r\n    //EDIT ACTION\r\n    const handleEditOpen = (userId, name, email) => {\r\n        setIsEditOpen(true);\r\n        setUserId(userId);\r\n        setName(name);\r\n        setEmail(email);\r\n        dispatch(updateResetSuccess());\r\n    };\r\n\r\n    const handleEditClose = () => {\r\n        setIsEditOpen(false);\r\n    };\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        \r\n        let mailFormat = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\r\n\r\n        if(name == \"\" || email == \"\" || password == \"\"){\r\n            setUserError(\"All field is required\");\r\n        } else if (!email.match(mailFormat)){\r\n            setUserError(\"Email is invalid\");\r\n        } else if (password.length < 7){\r\n            setUserError(\"Password minimum character is 7\")\r\n        } else {\r\n            dispatch(updateUser(userId, name, email, password, isAdmin));\r\n        }\r\n    };\r\n\r\n    const handleAlert = () => {\r\n        setIsAlertOpen(false);\r\n        dispatch(updateResetSuccess());\r\n    }\r\n\r\n    //SEND PASSWORD RESET ACTION\r\n    const handleSendPasswordReset = (email) => {\r\n        setIsSendPasswordAlertOpen(true);\r\n        dispatch(sendPasswordReset(email));\r\n    }\r\n\r\n    const handleSendPasswordAlert = () => {\r\n        setIsSendPasswordAlertOpen(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(success){\r\n            setUserError(false);\r\n            setIsEditOpen(false);\r\n            history(`/admin?tab=2`);\r\n            setIsAlertOpen(true);\r\n        }\r\n\r\n        if(deleteSuccess){\r\n            setIsDeleteOpen(false);\r\n            history(`/admin?tab=2`);\r\n        }\r\n\r\n        if(addUserSuccess){\r\n            setIsAddOpen(false);\r\n            history(\"/admin?tab=2\");\r\n            //reset add user success here, that makes view loads\r\n        }\r\n    \r\n        dispatch(getAllUsers());\r\n    }, [dispatch, success, deleteSuccess, addUserSuccess]);\r\n\r\n    //click edit, find the user info filtered by user id\r\n    return (\r\n        <Box sx={{ heigth: \"100vh\", width: \"85vw\", padding: \"30px 30px\", margin: \"0 auto\"}}>\r\n            {addUserSuccess ? (\r\n                <Collapse in={isAddAlert}>\r\n                    <Alert sx={{marginBottom: \"20px\"}} action={<IconButton onClick={handleAddAlert} size=\"small\"><CloseIcon fontSize=\"inherit\"/></IconButton>}>User added</Alert> \r\n                </Collapse>\r\n            ) : null}\r\n            {success ? (\r\n                <Collapse in={isAlertOpen}>\r\n                    <Alert sx={{marginBottom: \"20px\"}} action={<IconButton onClick={handleAlert} size=\"small\"><CloseIcon fontSize=\"inherit\"/></IconButton>}>User updated</Alert> \r\n                </Collapse>\r\n            ) : null}\r\n            {deleteSuccess ? (\r\n                <Collapse in={isDeleteAlertOpen}>\r\n                    <Alert sx={{marginBottom: \"20px\"}} action={<IconButton onClick={handleDeleteAlert} size=\"small\"><CloseIcon fontSize=\"inherit\"/></IconButton>}>User deleted</Alert> \r\n                </Collapse>\r\n            ) : null}\r\n             {isSendPasswordLoading ? (<AdminLoader form={true} loaderMessage=\"Sending Password Reset\"/>) : sendPasswordSuccess ? (\r\n                <Collapse in={isSendPasswordAlertOpen}>\r\n                    <Alert sx={{marginBottom: \"20px\"}} action={<IconButton onClick={handleSendPasswordAlert} size=\"small\"><CloseIcon fontSize=\"inherit\"/></IconButton>}>Password reset is sent!</Alert> \r\n                </Collapse>\r\n            ) : sendPasswordError ?\r\n                (  \r\n                <Collapse in={isSendPasswordAlertOpen}>\r\n                    <Alert severity=\"error\" sx={{marginBottom: \"20px\"}} action={<IconButton onClick={handleSendPasswordAlert} size=\"small\"><CloseIcon fontSize=\"inherit\"/></IconButton>}>{sendPasswordError}</Alert> \r\n                </Collapse>)\r\n            : null}\r\n            {isUsersLoading ? (<AdminLoader loaderMessage=\"Fetching Users\"/>) : \r\n            usersError ? (<Message severity=\"error\" form={true}>{usersError}</Message>) : allUsers ? (\r\n                <>\r\n                <Stack direction=\"row\" spacing={2} sx={{mb: \"20px\"}}>\r\n                    <Typography variant=\"h2\">Users</Typography>\r\n                    <Button variant=\"contained\" size=\"small\" onClick={handleAddOpen}>\r\n                        <Typography variant=\"h6\" fontWeight={400}>Add New</Typography>\r\n                    </Button>\r\n                </Stack>\r\n                <Box>\r\n                <Stack direction=\"row\" justifyContent=\"space-between\" sx={{mb: \"20px\"}}>\r\n                    <Typography sx={{alignSelf: \"end\"}}>\r\n                        All ({ allUsers.length }) , Admin ({allUsers.reduce((initialValue, user) => user.isAdmin ? 1 + initialValue : initialValue, 0)}), \r\n                        Shopper ({allUsers.reduce((initialValue, user) => !user.isAdmin ? 1 + initialValue : initialValue, 0)})\r\n                    </Typography>\r\n                    <Stack direction=\"row\" spacing={2}>\r\n                        <TextField type=\"text\"/>\r\n                        <Button variant=\"contained\" size=\"small\">\r\n                            <Typography variant=\"h6\" fontWeight={400}>Search Users</Typography>\r\n                        </Button>\r\n                    </Stack>\r\n                </Stack>\r\n                <TableContainer>\r\n                    <Table>\r\n                        <TableHead className={classes.tablehead}>\r\n                            <TableRow>\r\n                                <StyledTableCell>\r\n                                    <Typography>Name</Typography>\r\n                                </StyledTableCell>\r\n                                <StyledTableCell>\r\n                                    <Typography>Email</Typography>\r\n                                </StyledTableCell>\r\n                                <StyledTableCell>\r\n                                    <Typography>Role</Typography>\r\n                                </StyledTableCell>\r\n                                <StyledTableCell>\r\n                                    <Typography>Last Login</Typography>\r\n                                </StyledTableCell>\r\n                                <StyledTableCell>\r\n                                    <Typography></Typography>\r\n                                </StyledTableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                    {allUsers.map((users) => (\r\n                        <TableBody>\r\n                            <StyledTableRow key={users._id}>\r\n                                <TableCell>\r\n                                    {users.name}\r\n                                </TableCell>\r\n                                <TableCell>\r\n                                    {users.email}\r\n                                </TableCell>\r\n                                <TableCell>\r\n                                    {users.isAdmin ? \"Admin\" : \"Shopper\"}\r\n                                </TableCell>\r\n                                <TableCell>\r\n                                    { users.lastLogin }\r\n                                </TableCell>\r\n                                <TableCell>\r\n                                    <Stack direction=\"row\" spacing={2} divider={<Divider orientation=\"vertical\" flexItem/>}>\r\n                                        <Button onClick={() => handleEditOpen(users._id, users.name, users.email)}>\r\n                                            <Typography variant=\"h6\" fontWeight={400}>Edit</Typography>\r\n                                        </Button>\r\n                                        <Button onClick={() => handleDeleteOpen(users._id)}>\r\n                                            <Typography color=\"error\" variant=\"h6\" fontWeight={400}>DELETE</Typography>\r\n                                        </Button>\r\n                                        <Button onClick={() => handleSendPasswordReset(users.email)}>\r\n                                            <Typography variant=\"h6\" fontWeight={400}>Send Password Reset</Typography>\r\n                                        </Button>\r\n                                    </Stack>              \r\n                                </TableCell>\r\n                            </StyledTableRow>\r\n                        </TableBody>\r\n                        ))}\r\n                        <Dialog open={isAddOpen} onClose={(event) => handleAddClose(event)}>\r\n                            {isAddUserLoading ? (<AdminLoader form={true} loaderMessage=\"Adding User\"/>) : \r\n                            addUserValidation ? (<Message severity=\"error\" form={true}>{addUserValidation}</Message>) : \r\n                            addUserError ? (<Message severity=\"error\" form={true}>{addUserError}</Message>) : null}\r\n                            <Typography variant=\"h4\" textAlign=\"center\" sx={{paddingTop: \"20px\"}}>\r\n                                ADD USER\r\n                            </Typography>\r\n                            <Box component=\"form\" noValidate autoComplete=\"off\" onSubmit={handleAddSubmit}>\r\n                                <DialogContent>\r\n                                    <Stack spacing={2}>\r\n                                        <TextField type=\"text\" value={addName} fullWidth label=\"NAME\" onChange={(event) => setAddName(event.target.value)}/>\r\n                                        <TextField type=\"text\" value={addEmail} fullWidth label=\"EMAIL\" onChange={(event) => setAddEmail(event.target.value)}/>\r\n                                        <TextField type=\"text\" value={addPassword} fullWidth label=\"PASSWORD\" onChange={(event) => setAddPassword(event.target.value)}/>\r\n                                        <FormLabel>ROLE</FormLabel>\r\n                                        <RadioGroup row defaultValue=\"shopper\">\r\n                                            <FormControlLabel value=\"admin\" control={<Radio/>} label=\"ADMIN\" onClick={() => setAddIsAdmin(true)}/>\r\n                                            <FormControlLabel value=\"shopper\" control={<Radio/>} label=\"SHOPPER\" onClick={() => setAddIsAdmin(false)}/>\r\n                                        </RadioGroup>\r\n                                    </Stack>\r\n                                </DialogContent>\r\n                                <DialogActions sx={{paddingBottom: \"30px\", justifyContent: \"center\"}}>\r\n                                    <Button variant=\"contained\" type=\"submit\" color=\"primary\">\r\n                                        ADD\r\n                                    </Button>\r\n                                    <Button variant=\"contained\" onClick={handleAddClose} color=\"secondary\">\r\n                                        CLOSE\r\n                                    </Button>\r\n                                </DialogActions>\r\n                            </Box>\r\n                        </Dialog>\r\n                        <Dialog open={isEditOpen} onClose={handleEditClose}>\r\n                            {userError ? (<Message severity=\"error\" form={true}>{userError}</Message>) : null}\r\n                            <Typography variant=\"h4\" textAlign=\"center\" sx={{paddingTop: \"20px\"}}>\r\n                                UPDATE USER\r\n                            </Typography>\r\n                            <Box component=\"form\" noValidate autoComplete=\"off\" onSubmit={(event) => handleSubmit(event)}>\r\n                                <DialogContent sx={{padding: \"20px 40px!important\"}}>\r\n                                    <Stack spacing={2}> \r\n                                        <TextField label=\"NAME\" type=\"text\" value={name} onChange={(event) => setName(event.target.value)}/>\r\n                                        <TextField label=\"EMAIL\" type=\"text\" value={email} onChange={(event) => setEmail(event.target.value)}/>\r\n                                        <TextField label=\"PASSWORD\" type=\"text\" value={password} onChange={(event) => setPassword(event.target.value)}/>\r\n                                        <FormLabel>ROLE</FormLabel>\r\n                                        <RadioGroup row defaultValue=\"shopper\">\r\n                                            <FormControlLabel value=\"admin\" control={<Radio/>} label=\"ADMIN\" onClick={() => setIsAdmin(true)}/>\r\n                                            <FormControlLabel value=\"shopper\" control={<Radio/>} label=\"SHOPPER\" onClick={() => setIsAdmin(false)}/>\r\n                                        </RadioGroup>\r\n                                    </Stack>\r\n                                </DialogContent>\r\n                                <DialogActions sx={{paddingBottom: \"30px\", justifyContent: \"center\"}}>\r\n                                    <Button variant=\"contained\" type=\"submit\" color=\"primary\">\r\n                                        UPDATE\r\n                                    </Button>\r\n                                    <Button variant=\"contained\" onClick={handleEditClose} color=\"secondary\">\r\n                                        CLOSE\r\n                                    </Button>\r\n                                </DialogActions>\r\n                            </Box>\r\n                        </Dialog>\r\n                        <Dialog open={isDeleteOpen} onClose={handleDeleteClose}>\r\n                            {isDeleteLoading ? (<AdminLoader form={true}/>) : deleteError ? \r\n                            (<Message severity=\"error\" form={true}>{deleteError}</Message>) : null}\r\n                            <Typography variant=\"h4\" textAlign=\"center\" sx={{paddingTop: \"20px\"}}>\r\n                                DELETE USER\r\n                            </Typography>\r\n                            <DialogContent>\r\n                                    <Typography sx={{marginBottom: \"20px\"}}>Are you sure you want to delete the user?</Typography>\r\n                                    <Stack direction={{xs: \"column\", sm: \"row\"}}  spacing={{xs: 2, sm: 2}} justifyContent=\"center\">\r\n                                        <Button variant=\"contained\" color=\"error\" onClick={handleDeleteUser}>\r\n                                            Yes\r\n                                        </Button>\r\n                                        <Button variant=\"contained\" color=\"primary\" onClick={handleDeleteClose}>\r\n                                            No\r\n                                        </Button>\r\n                                    </Stack>\r\n                            </DialogContent>\r\n                        </Dialog>\r\n                        </Table>\r\n                    </TableContainer>\r\n                </Box>\r\n                </>\r\n            ): null}\r\n        </Box>);\r\n}\r\n\r\nexport default AdminUser;"]},"metadata":{},"sourceType":"module"}